output = [u'server {\n', u'  server_name  ip-10-0-4-106, test2-indonesia.coconuts.co;\n', u'  root   /var/www/html;\n', u'  access_log  /var/log/nginx/access.log;\n', u'  error_log  /var/log/nginx/error.log;\n', u'  location = /favicon.ico {\n', u'    log_not_found off;\n', u'    access_log off;\n', u'  }\n', u'  location = /robots.txt {\n', u'    allow all;\n', u'    log_not_found off;\n', u'    access_log off;\n', u'  }\n', u'  # This matters if you use drush\n', u'  location = /backup {\n', u'    deny all;\n', u'  }\n', u'  # Very rarely should these ever be accessed outside of your lan\n', u'  location ~* \\.(txt|log)$ {\n', u'    deny all;\n', u'  }\n', u'  location ~ \\..*/.*\\.php$ {\n', u'    return 403;\n', u'  }\n', u'  location / {\n', u'    # This is cool because no php is touched for static content\n', u'    try_files $uri @rewrite;\n', u'  }\n', u'  location @rewrite {\n', u'    # Some modules enforce no slash (/) at the end of the URL\n', u"    # Else this rewrite block wouldn't be needed (GlobalRedirect)\n", u'    rewrite ^/(.*)$ /index.php?q=$1;\n', u'  }\n', u'  location ~ \\.php$ {\n', u'    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n', u'    #NOTE: You should have "cgi.fix_pathinfo = 0;" in php.ini\n', u'    include fastcgi_params;\n', u'    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n', u'    fastcgi_intercept_errors on;\n', u'    fastcgi_pass unix:/var/run/php-fpm-www.sock;\n', u'    fastcgi_read_timeout 40;\n', u'    # Set cache key to include identifying components\n', u'    fastcgi_cache_valid 302     1m;\n', u'    fastcgi_cache_valid 404     1s;\n', u'    fastcgi_cache_min_uses 1;\n', u'    fastcgi_cache_use_stale error timeout invalid_header updating http_500;\n', u'    fastcgi_ignore_headers Cache-Control Expires;\n', u'    fastcgi_pass_header Set-Cookie;\n', u'    fastcgi_pass_header Cookie;\n', u'    ## Add a cache miss/hit status header.\n', u'    add_header X-Micro-Cache $upstream_cache_status;\n', u'    ## To avoid any interaction with the cache control headers we expire\n', u'    ## everything on this location immediately.\n', u'    expires epoch;\n', u'    ## Cache locking mechanism for protecting the backend of too many\n', u'    ## simultaneous requests.\n', u'    fastcgi_cache_lock on;\n', u'  }\n', u'  # Catch image styles for D7.\n', u'  location ~ ^/sites/.*/files/ {\n', u'    try_files $uri @rewrite;\n', u'  }\n', u'  # Catch image styles for AmazonS3 D7.\n', u'  location ~ ^/system/files/styles/ {\n', u'    try_files $uri @rewrite;\n', u'  }\n', u'  location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg)$ {\n', u'    expires max;\n', u'    log_not_found off;\n', u'  }\n', u'  location ~* \\.(eot|ttf|woff|svg) {\n', u'    add_header Access-Control-Allow-Origin *;\n', u'    try_files $uri @rewrite;\n', u'  }\n', u'location ^~ /cdn/farfuture/ {\n', u'  tcp_nodelay   off;\n', u'  access_log    off;\n', u'  log_not_found off;\n', u'  etag          off;\n', u'  gzip_http_version 1.0;\n', u'  if_modified_since exact;\n', u'  location ~* ^/cdn/farfuture/.+\\.(?:css|js|jpe?g|gif|png|ico|bmp|svg|swf|pdf|docx?|xlsx?|pptx?|tiff?|txt|rtf|class|otf|ttf|woff|eot|less)$ {\n', u'    expires max;\n', u'    add_header X-Header "CDN Far Future Generator 1.0";\n', u'    add_header Cache-Control "no-transform, public";\n', u'    add_header Last-Modified "Wed, 20 Jan 1988 04:20:42 GMT";\n', u'    rewrite ^/cdn/farfuture/[^/]+/[^/]+/(.+)$ /$1 break;\n', u'    try_files $uri @nobots;\n', u'  }\n', u'  location ~* ^/cdn/farfuture/ {\n', u'    expires epoch;\n', u'    add_header X-Header "CDN Far Future Generator 1.1";\n', u'    add_header Cache-Control "private, must-revalidate, proxy-revalidate";\n', u'    rewrite ^/cdn/farfuture/[^/]+/[^/]+/(.+)$ /$1 break;\n', u'    try_files $uri @nobots;\n', u'  }\n', u'  try_files $uri @nobots;\n', u'}\n', u'}\n']


print ''.join(output)
